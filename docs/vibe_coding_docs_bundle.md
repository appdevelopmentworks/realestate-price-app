# ダウンロード用ドキュメント一式（Vibe Coding 用）

以下は **そのまま保存して使える Markdown ドキュメント一式** です。

---

## 📄 requirements.md
```md
# 不動産価格推定アプリ 要求定義書（MVP）

## 目的
首都圏（東京23区＋横浜/川崎/さいたま/千葉/船橋/柏）の中古マンションについて、
無料の公的データを用いて学習したモデルにより、推定価格（円/㎡）を提示する。

## スコープ
- 物件種別
  - 中古マンション：推定対応（MVP）
  - 土地 / 戸建：選択可・推定未対応（準備中表示）

- 推定モード
  - 高精度モード（特徴量入力）
  - 住所のみモード（簡易・精度低下を明示）

## 推定対象
- 中古マンション（区分所有）
- 目的変数：成約価格ベースの円/㎡

## 評価
- MAE（円/㎡）を主指標
- 補助的に MAPE（%）も算出

## 学習/検証
- 時系列分割（最新1年を validation）

## 外れ値処理
- 円/㎡を 1%〜99% でウィンズライズ
```

---

## 📄 tech_spec.md
```md
# 技術仕様書（MVP）

## 技術スタック
- Python 3.11+
- Streamlit
- LightGBM
- pandas / numpy
- joblib
- SQLite（キャッシュ）

## ジオコーディング
- 第一候補：国土地理院（GSI）
- フォールバック：Nominatim (OSM)
- 住所→緯度経度は必ずキャッシュ

## モデル構成
### 高精度モデル
- 行政区（区/市）
- 築年数
- 専有面積
- 駅徒歩分（ユーザー入力）
- 容積率 / 建蔽率（未入力は行政区中央値補完）

### 住所のみ専用モデル
- 行政区（住所文字列抽出）
- 緯度・経度
- 築年数（任意入力・未入力は補完）

※ 専有面積はモデルに含めない（円/㎡の安定性優先）
```

---

## 📄 data_spec.md
```md
# データ仕様書

## 学習データ対象
- 中古マンション（区分所有）のみ
- 成約価格データのみ（募集価格は除外）

## 主テーブル（例）
- ward（区/市）
- age_years
- area_m2
- station_walk_min
- far
- bcr
- lat, lon
- price_yen_per_m2（目的変数）

## 前処理
- price_yen_per_m2 = price_total_yen / area_m2
- 外れ値：1%〜99% ウィンズライズ
- 行政区の出現数 < 200 → "その他" に統合
```

---

## 📄 ui_spec.md
```md
# UI仕様（Streamlit）

## 画面構成
- 物件種別セレクト
- 推定モード切替（高精度 / 住所のみ）
- 入力フォーム
- 推定結果表示

## 注意表示（必須）
- 住所のみモードは精度が下がる
- 面積未入力時は総額表示なし＋入力誘導

## 出力
- 推定価格：円/㎡（メイン）
- 面積入力時：推定総額（円）
```

---

## 📄 tasks.md（Codex 用タスク分解）
```md
# 実装タスク分解（Vibe Coding）

1. プロジェクト雛形生成
2. データ前処理パイプライン作成
3. 高精度モデル学習（LightGBM）
4. 住所のみ専用モデル学習
5. ジオコーディング（GSI + キャッシュ）
6. 推論API実装
7. Streamlit UI 実装
8. デプロイ（Streamlit Community Cloud）
```

---

## 📄 README.md
```md
# Real Estate Price Estimator (JP)

## 概要
首都圏の中古マンション価格（円/㎡）を推定する Streamlit アプリ。

## 起動方法
```bash
pip install -r requirements.txt
streamlit run app/streamlit_app.py
```

## 注意
- 推定結果は参考値です
- 住所のみモードは誤差が大きくなります
```

---

### ✅ 使い方
1. このドキュメントを開く
2. 各セクションを **ファイル名.md** として保存
3. Codex / Claude / GPT に投げてバイブコーディング開始

---

必要であれば、次は
- **学習用ダミーCSV**
- **train.py / predict.py の雛形コード**
- **Streamlit UI の初期コード**
も即ダウンロード可能な形で出します。

